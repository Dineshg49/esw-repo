{"ast":null,"code":"var _jsxFileName = \"/home/bondu/esw-repo/frontend/src/components/Common/Graphs.js\";\nimport React, { Component, auto, useState } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport axios from 'axios';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis } from 'recharts'; // const data = [{ name: 'kveinop', uv: 400 }, { name: '13-2-21', uv: 200 }, { name: '14-2-21', uv: 500 }, { name: '12-2-21', uv: 600 }, { name: '12-2-21', uv: 200 },];\n\nlet data = [];\nconst styles = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  textAlign: \"center\",\n  verticalAlign: \"middle\" // boxShadow: \"4px 4px 4px rgba(0, 0, 0, 0.25)\",\n  // borderRadius: \"25px\",\n\n};\nconst headerStyles = {\n  height: auto,\n  width: auto,\n  //   textAlign: 'center',\n  rounded: true,\n  paddingTop: auto,\n  //   backgroundColor: '#76D8E3',\n  opacity: 0.8,\n  margin: 10,\n  fontSize: 20\n}; // const [dataop, setdataop] = useState([]);\n\nfunction hash(s, M) {\n  let sum = 0,\n      mul = 1;\n\n  for (let i = 0; i < s.length; i++) {\n    mul = i % 4 == 0 ? 1 : mul * 256;\n    sum += s.charCodeAt(i) * mul;\n  } // console.log(sum);\n\n\n  return Math.abs(sum) % M;\n}\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props); // this.data = [];\n  }\n\n  componentDidMount() {\n    function filter_data(ts, mode) {\n      var today = new Date();\n      var dd = today.getDate();\n      var mm = today.getMonth(); //January is 0!\n\n      var yyyy = today.getFullYear(); // today = dd + '/' + mm + '/' + yyyy;\n      // console.log(dd);\n      // console.log(mm);\n      // console.log(yyyy);\n\n      if (mm == 1) {\n        mm = 12;\n        yyyy--;\n      }\n\n      today = yyyy * 10000 + mm * 100 + dd; // today = yyyy+ mm + dd;\n\n      console.log(today);\n\n      if (mode == 0) {}\n    }\n\n    axios.get('http://localhost:4000/testy', {}).then(res => {\n      let data2 = [];\n      let array = res.data[\"m2m:cnt\"][\"m2m:cin\"]; // console.log(array);\n\n      for (let i = 0; i < array.length; i++) {\n        // let timestring = array[i].\n        let data = array[i].con; // console.log();\n        // let data = \"/EF;2/\";\n        // console.log(data);\n        // data = data.substring(1, data.length-1);\n\n        data = data.split(';'); // console.log(data[0]+data[1]);\n\n        let hboi = hash(data[0] + data[1], 23); // console.log(hboi);\n\n        let lvl = 0; // if(hboi == data[2])\n        // {\n\n        lvl = parseInt(Number(\"0x\" + data[0]), 10); // console.log(parseInt(Number(\"0x\"+data[0]), 10));\n        // console.log(this.x);\n        // if(data[1] == \"1\")\n        //     this.y = this.y + \"Off\";\n        // else \n        //     this.y = this.y + \"Running\";\n        // this.setState({x:\"hmm\"});\n        // }\n        // else \n        // console.log(\"lmao\")\n\n        let ts = array[i].ct;\n        let timev = filter_data(ts, 0); // let timev = ts[9] + ts[10] + \":\" + ts[11] + ts[12] + \":\" + ts[13] + ts[14];\n\n        let value = {\n          name: timev,\n          uv: lvl\n        };\n\n        if (timev !== \"-1\") {\n          data2.push(value);\n        }\n      } // console.log(data2);\n\n\n      this.data = data2;\n      this.setState({\n        data: data2\n      }); // console.log(\"out\",this.data)\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: headerStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Water Level vs Time\"), React.createElement(Paper, {\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(LineChart, {\n      width: 600,\n      height: 300,\n      data: this.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"uv\",\n      stroke: \"#8884d8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(CartesianGrid, {\n      stroke: \"#ccc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(XAxis, {\n      dataKey: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/bondu/esw-repo/frontend/src/components/Common/Graphs.js"],"names":["React","Component","auto","useState","BrowserRouter","Router","Route","Link","Button","Paper","axios","LineChart","Line","CartesianGrid","XAxis","YAxis","data","styles","display","justifyContent","alignItems","textAlign","verticalAlign","headerStyles","height","width","rounded","paddingTop","opacity","margin","fontSize","hash","s","M","sum","mul","i","length","charCodeAt","Math","abs","Home","constructor","props","componentDidMount","filter_data","ts","mode","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","console","log","get","then","res","data2","array","con","split","hboi","lvl","parseInt","Number","ct","timev","value","name","uv","push","setState","render"],"mappings":"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","sourcesContent":["import React, { Component, auto , useState} from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport axios from 'axios';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis } from 'recharts';\n// const data = [{ name: 'kveinop', uv: 400 }, { name: '13-2-21', uv: 200 }, { name: '14-2-21', uv: 500 }, { name: '12-2-21', uv: 600 }, { name: '12-2-21', uv: 200 },];\nlet data = [];\nconst styles = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  textAlign: \"center\",\n  verticalAlign: \"middle\",\n  // boxShadow: \"4px 4px 4px rgba(0, 0, 0, 0.25)\",\n  // borderRadius: \"25px\",\n};\n\nconst headerStyles = {\n  height: auto,\n  width: auto,\n  //   textAlign: 'center',\n  rounded: true,\n  paddingTop: auto,\n  //   backgroundColor: '#76D8E3',\n  opacity: 0.8,\n  margin: 10,\n  fontSize: 20\n};\n\n// const [dataop, setdataop] = useState([]);\n\nfunction hash(s, M) {\n  let sum = 0, mul = 1;\n  for (let i = 0; i < s.length; i++) {\n    mul = (i % 4 == 0) ? 1 : mul * 256;\n    sum += s.charCodeAt(i) * mul;\n  }\n  // console.log(sum);\n  return (Math.abs(sum) % M);\n}\n\n\nexport default class Home extends Component {\n\n\n  constructor(props) {\n    super(props);\n    // this.data = [];\n  }\n  \n\n  componentDidMount() {\n    function filter_data(ts, mode){\n      var today = new Date();\n      var dd = today.getDate();\n      var mm = today.getMonth()  //January is 0!\n      var yyyy = today.getFullYear();\n\n      // today = dd + '/' + mm + '/' + yyyy;\n      // console.log(dd);\n      // console.log(mm);\n      // console.log(yyyy);\n\n      if(mm == 1)\n      {\n        mm = 12;\n        yyyy--;\n      }\n      today = yyyy*10000 + mm*100 + dd;\n      // today = yyyy+ mm + dd;\n\n      console.log(today);\n      if(mode == 0)\n      {\n\n      }\n    }\n\n    axios.get('http://localhost:4000/testy', {\n    })\n      .then(res => {\n        let data2 = [];\n        let array = res.data[\"m2m:cnt\"][\"m2m:cin\"];\n        \n        // console.log(array);\n\n        for (let i = 0; i < array.length; i++) {\n          // let timestring = array[i].\n\n          let data = array[i].con;\n          // console.log();\n          // let data = \"/EF;2/\";\n          // console.log(data);\n          // data = data.substring(1, data.length-1);\n          data = data.split(';');\n          // console.log(data[0]+data[1]);\n          let hboi = hash(data[0]+data[1], 23);\n          // console.log(hboi);\n          let lvl = 0;\n        // if(hboi == data[2])\n        // {\n            lvl = parseInt(Number(\"0x\"+data[0]), 10);\n            // console.log(parseInt(Number(\"0x\"+data[0]), 10));\n            // console.log(this.x);\n            \n            // if(data[1] == \"1\")\n            //     this.y = this.y + \"Off\";\n            // else \n            //     this.y = this.y + \"Running\";\n            // this.setState({x:\"hmm\"});\n        // }\n        // else \n          // console.log(\"lmao\")\n\n\n\n\n          let ts = array[i].ct;\n          let timev = filter_data(ts,0);\n          // let timev = ts[9] + ts[10] + \":\" + ts[11] + ts[12] + \":\" + ts[13] + ts[14];\n          let value = { name: timev, uv: lvl };\n          if(timev !== \"-1\")\n          {\n            data2.push(value);\n          }\n        }\n\n        // console.log(data2);\n        this.data = data2;\n        this.setState({data : data2})\n        // console.log(\"out\",this.data)\n\n      })\n      ;\n  }\n\n\n  render() {\n\n    return (\n      <div>\n        <Paper style={headerStyles}>\n          Water Level vs Time\n        </Paper>\n        <Paper style={styles}>\n          <LineChart width={600} height={300} data={this.data}>\n            <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" />\n            <CartesianGrid stroke=\"#ccc\" />\n            <XAxis dataKey=\"name\" />\n            <YAxis />\n          </LineChart>\n        </Paper>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}