{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Downloads/ESW/esw-repo/frontend/src/components/Common/Home.js\";\nimport React, { Component, auto } from 'react'; // import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"; // import Button from '@mui/material/Button';\n\nimport Paper from '@mui/material/Paper';\nimport axios from 'axios';\nimport { FcCancel } from \"react-icons/fc\";\nimport { FcApproval } from \"react-icons/fc\";\nimport { color } from 'd3-color';\nimport { interpolateRgb } from 'd3-interpolate'; // import React, { Component } from 'react';\n// import ReactDOM from 'react-dom';\n\nimport LiquidFillGauge from 'react-liquid-gauge';\nimport { Toast } from 'bootstrap';\nconst styles = {\n  height: auto,\n  width: auto,\n  textAlign: 'center',\n  rounded: true,\n  paddingTop: auto,\n  backgroundColor: '#76D8E3',\n  opacity: 0.8,\n  margin: 10,\n  fontSize: 40\n};\nlet y = \"Status of Motor: \";\nlet x = \"Water level in tank: \";\nlet resultx = 0;\nlet level = 20;\nlet total = 35;\nlet volume = 25; // function hash(s, M) {\n//     let sum = 0, mul = 1;\n//     for (let i = 0; i < s.length; i++) {\n//     //   mul = (i % 4 == 0) ? 1 : mul * 256;\n//         console.log(sum);\n//         console.log(s.charCodeAt(i));\n//       sum += s.charAt(i) * mul;\n//       console.log(sum);\n//     }\n//     console.log(Math.abs(sum) % M);\n//     return (Math.abs(sum) % M);\n//   }\n\nlet decrypt = [{\n  'u': 0,\n  'x': 1,\n  'r': 2,\n  'p': 3,\n  'c': 4,\n  't': 5,\n  'z': 6,\n  'v': 7,\n  'd': 8,\n  'k': 9,\n  'h': -1\n}, {\n  'n': 0,\n  'h': 1,\n  'e': 2,\n  'u': 3,\n  'v': 4,\n  'y': 5,\n  'z': 6,\n  'a': 7,\n  'p': 8,\n  'x': 9,\n  'j': -1\n}, {\n  'g': 0,\n  's': 1,\n  'c': 2,\n  'a': 3,\n  'j': 4,\n  'i': 5,\n  'q': 6,\n  'v': 7,\n  'd': 8,\n  'f': 9,\n  'k': -1\n}];\n\nfunction hash(s, M) {\n  let sum = 0,\n      mul = 1;\n\n  for (let i = 0; i < s.length; i++) {\n    mul = i % 4 == 0 ? 1 : mul * 256;\n    sum += s.charCodeAt(i) * mul;\n  } // console.log(sum);\n\n\n  return Math.abs(sum) % M;\n}\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props); // this.logout = this.logout.bind(this);\n\n    this.state = {\n      level: 0,\n      value: level * volume / total,\n      mstatus: 0,\n      x: \"Water level in tank: \"\n    };\n    this.startColor = '#6495ed';\n    this.endColor = '#dc143c';\n  }\n\n  // crimson\n  componentDidMount() {\n    axios.get('http://localhost:4000/test', {}).then(res => {\n      let data = res.data[\"m2m:cin\"].con;\n      console.log(res); // let data = \"/EF;2/\";\n      // console.log(data);\n      // data = data.substring(1, data.length-1);\n      // let data = array[i].con;\n\n      data = data.split(';');\n      let water = 0;\n      let motor = decrypt[data[3]][[data[1][0]]]; // motor = motor-1;\n\n      for (let i = 0; i < data[0].length; i++) if (decrypt[data[3]][[data[0][i]]] != -1) {\n        water = water * 10;\n        water = water + decrypt[data[3]][[data[0][i]]]; // console.log(decrypt[data[3]][[data[0][i]]]);\n        // console.log(data[0]);\n      }\n\n      console.log(\"got\", water.toString() + motor.toString());\n      let hboi = hash(water.toString() + motor.toString(), 50);\n      console.log(hboi, data);\n      if (hboi == data[2]) console.log(\"yee\");\n      this.setState({\n        level: water\n      });\n      this.setState({\n        value: this.state.level * volume / total\n      }); // console.log(\"x is \", this.state.level, total, this.state.level*100/total);\n      // console.log(parseInt(Number(\"0x\"+data[0]), 10));\n      // console.log(this.x);\n\n      if (motor == 2) this.setState({\n        mstatus: 0\n      });else this.setState({\n        mstatus: 1\n      }); // this.setState({x:\"hmm\"});\n      //   if(res.data==='Success')\n      //   {\n      //     // ReactDOM.render(<UserApp/>,document.getElementById(\"root\"));\n      //     // UserProfile.setName(email.value);\n      //     // const newSession = {\n      //     //   email: email.value\n      //     // }\n      //     // const newLink = {\n      //     //   pathname: \"/users/userprofile\",\n      //     //   name: email.value\n      //     // };\n      //     // ReactDOM.render(<Link to={newLink}> hi </Link>, document.getElementById(\"root\"));\n      //   }\n      //   else\n      //     alert( res.data);console.log(res.data);\n    });\n  }\n\n  render() {\n    const radius = 200;\n    const interpolate = interpolateRgb(this.startColor, this.endColor);\n    const fillColor = interpolate(this.state.value / 100);\n    const gradientStops = [{\n      key: '0%',\n      stopColor: color(fillColor).darker(0.5).toString(),\n      stopOpacity: 1,\n      offset: '0%'\n    }, {\n      key: '50%',\n      stopColor: fillColor,\n      stopOpacity: 0.75,\n      offset: '50%'\n    }, {\n      key: '100%',\n      stopColor: color(fillColor).brighter(0.5).toString(),\n      stopOpacity: 0.5,\n      offset: '100%'\n    }];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, this.state.x, \" \", this.state.level, \"cm\"), React.createElement(Paper, {\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, y, this.state.mstatus == 0 ? 'OFF' : 'ON', this.state.mstatus == 0 ? React.createElement(FcCancel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }) : React.createElement(FcApproval, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(LiquidFillGauge, {\n      style: {\n        margin: '0 auto'\n      },\n      width: radius * 2,\n      height: radius * 2,\n      value: this.state.value,\n      percent: \"%\",\n      textSize: 1,\n      textOffsetX: 0,\n      textOffsetY: 0,\n      textRenderer: props => {\n        const value = Math.round(props.value);\n        const radius = Math.min(props.height / 2, props.width / 2);\n        const textPixels = props.textSize * radius / 2;\n        const valueStyle = {\n          fontSize: textPixels\n        };\n        const percentStyle = {\n          fontSize: textPixels * 0.6\n        };\n        return React.createElement(\"tspan\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"tspan\", {\n          className: \"value\",\n          style: valueStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, value), React.createElement(\"tspan\", {\n          style: percentStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, \"Litres\", \" \"));\n      },\n      riseAnimation: true,\n      waveAnimation: true,\n      waveFrequency: 2,\n      waveAmplitude: 1,\n      gradient: true,\n      gradientStops: gradientStops,\n      circleStyle: {\n        fill: fillColor\n      },\n      waveStyle: {\n        fill: fillColor\n      },\n      textStyle: {\n        fill: color('#444').toString(),\n        fontFamily: 'Arial'\n      },\n      waveTextStyle: {\n        fill: color('#fff').toString(),\n        fontFamily: 'Arial'\n      } // onClick={() => {\n      //     this.setState({ value: Math.random() * 100 });\n      // }}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })));\n  }\n\n} // ReactDOM.render(<App />, document.querySelector('#app'));","map":{"version":3,"sources":["/home/kevin/Downloads/ESW/esw-repo/frontend/src/components/Common/Home.js"],"names":["React","Component","auto","Paper","axios","FcCancel","FcApproval","color","interpolateRgb","LiquidFillGauge","Toast","styles","height","width","textAlign","rounded","paddingTop","backgroundColor","opacity","margin","fontSize","y","x","resultx","level","total","volume","decrypt","hash","s","M","sum","mul","i","length","charCodeAt","Math","abs","Home","constructor","props","state","value","mstatus","startColor","endColor","componentDidMount","get","then","res","data","con","console","log","split","water","motor","toString","hboi","setState","render","radius","interpolate","fillColor","gradientStops","key","stopColor","darker","stopOpacity","offset","brighter","round","min","textPixels","textSize","valueStyle","percentStyle","fill","fontFamily"],"mappings":"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","sourcesContent":["import React, {Component, auto} from 'react';\n// import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n// import Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport axios from 'axios';\nimport { FcCancel } from \"react-icons/fc\";\nimport { FcApproval } from \"react-icons/fc\";\nimport { color } from 'd3-color';\nimport { interpolateRgb } from 'd3-interpolate';\n// import React, { Component } from 'react';\n// import ReactDOM from 'react-dom';\nimport LiquidFillGauge from 'react-liquid-gauge';\nimport { Toast } from 'bootstrap';\n\nconst styles = {\n\theight: auto,\n  width: auto,\n  textAlign: 'center',\n  rounded: true,\n  paddingTop: auto,\n  backgroundColor: '#76D8E3',\n  opacity: 0.8,\n  margin: 10,\n  fontSize:40\n};\nlet y = \"Status of Motor: \";\nlet x = \"Water level in tank: \";\nlet resultx = 0;\nlet level = 20; \nlet total = 35; \nlet volume = 25;\n\n// function hash(s, M) {\n//     let sum = 0, mul = 1;\n//     for (let i = 0; i < s.length; i++) {\n//     //   mul = (i % 4 == 0) ? 1 : mul * 256;\n//         console.log(sum);\n//         console.log(s.charCodeAt(i));\n//       sum += s.charAt(i) * mul;\n//       console.log(sum);\n//     }\n//     console.log(Math.abs(sum) % M);\n//     return (Math.abs(sum) % M);\n//   }\n\nlet decrypt = [\n    {'u': 0, 'x': 1, 'r': 2, 'p': 3, 'c': 4, 't': 5, 'z': 6, 'v': 7, 'd': 8, 'k': 9, 'h': -1},\n    {'n': 0, 'h': 1, 'e': 2, 'u': 3, 'v': 4, 'y': 5, 'z': 6, 'a': 7, 'p': 8, 'x': 9, 'j': -1},\n    {'g': 0, 's': 1, 'c': 2, 'a': 3, 'j': 4, 'i': 5, 'q': 6, 'v': 7, 'd': 8, 'f': 9, 'k': -1}\n  ]\n\nfunction hash(s, M) {\n    let sum = 0, mul = 1;\n    for (let i = 0; i < s.length; i++) {\n      mul = (i % 4 == 0) ? 1 : mul * 256;\n      sum += s.charCodeAt(i) * mul;\n    }\n    // console.log(sum);\n    return (Math.abs(sum) % M);\n  }\n\nexport default class Home extends Component {\n    \n    constructor(props) {\n        super(props);\n        // this.logout = this.logout.bind(this);\n    }\n    state = {\n      level : 0,\n      value : level*volume/total,\n      mstatus: 0,\n      x: \"Water level in tank: \"\n    };\n    startColor = '#6495ed'; // cornflowerblue\n    endColor = '#dc143c'; // crimson\n    componentDidMount() {\n\n      \n        axios.get('http://localhost:4000/test', {\n          })\n                    .then(res => {\n                        let data = res.data[\"m2m:cin\"].con;\n                        console.log(res);\n                        // let data = \"/EF;2/\";\n                        // console.log(data);\n                        // data = data.substring(1, data.length-1);\n                        // let data = array[i].con;\n                        data = data.split(';');\n                        let water = 0;\n                        let motor = decrypt[data[3]][[data[1][0]]];\n                        // motor = motor-1;\n                        for(let i=0; i<data[0].length; i++)\n                            if(decrypt[data[3]][[data[0][i]]] != -1)\n                            {\n                            water = water*10;\n                            water = water + decrypt[data[3]][[data[0][i]]]\n                            // console.log(decrypt[data[3]][[data[0][i]]]);\n                            // console.log(data[0]);\n                            }\n                        console.log(\"got\", water.toString() + motor.toString());\n                        let hboi = hash(water.toString() + motor.toString(), 50);\n                        console.log(hboi, data);\n                        if(hboi == data[2])\n                            console.log(\"yee\");\n                        \n                        this.setState({level: water});\n                        this.setState({value: this.state.level*volume/total});\n                        // console.log(\"x is \", this.state.level, total, this.state.level*100/total);\n                        // console.log(parseInt(Number(\"0x\"+data[0]), 10));\n                        // console.log(this.x);\n                        \n                        if(motor == 2)\n                            this.setState({mstatus: 0});\n                        else\n                            this.setState({mstatus: 1});\n                        // this.setState({x:\"hmm\"});\n                        \n\n                    //   if(res.data==='Success')\n                    //   {\n                    //     // ReactDOM.render(<UserApp/>,document.getElementById(\"root\"));\n                    //     // UserProfile.setName(email.value);\n                    //     // const newSession = {\n                    //     //   email: email.value\n                    //     // }\n                    //     // const newLink = {\n                    //     //   pathname: \"/users/userprofile\",\n                    //     //   name: email.value\n                    //     // };\n                        \n                    //     // ReactDOM.render(<Link to={newLink}> hi </Link>, document.getElementById(\"root\"));\n                        \n                    //   }\n                    //   else\n                    //     alert( res.data);console.log(res.data);\n                    })\n                    ;\n        }\n\n\n    render() {\n      const radius = 200;\n        const interpolate = interpolateRgb(this.startColor, this.endColor);\n        const fillColor = interpolate(this.state.value / 100);\n        const gradientStops = [\n            {\n                key: '0%',\n                stopColor: color(fillColor).darker(0.5).toString(),\n                stopOpacity: 1,\n                offset: '0%'\n            },\n            {\n                key: '50%',\n                stopColor: fillColor,\n                stopOpacity: 0.75,\n                offset: '50%'\n            },\n            {\n                key: '100%',\n                stopColor: color(fillColor).brighter(0.5).toString(),\n                stopOpacity: 0.5,\n                offset: '100%'\n            }\n        ];\n        return (\n            <div>    \n\t\t\t\t<Paper style={styles}>\n\t\t\t\t\t{this.state.x} {this.state.level}cm\n\t\t\t\t</Paper>\n\t\t\t\t<Paper style={styles}>\n\n\t\t\t\t\t{y}\n          {this.state.mstatus == 0 ?\n          'OFF':'ON'}\n          {this.state.mstatus == 0 ?\n          <FcCancel/>:<FcApproval/>}\n\t\t\t\t</Paper>\n            \n        <div>\n                <LiquidFillGauge\n                    style={{ margin: '0 auto' }}\n                    width={radius * 2}\n                    height={radius * 2}\n                    value={this.state.value}\n                    percent=\"%\"\n                    textSize={1}\n                    textOffsetX={0}\n                    textOffsetY={0}\n                    textRenderer={(props) => {\n                        const value = Math.round(props.value);\n                        const radius = Math.min(props.height / 2, props.width / 2);\n                        const textPixels = (props.textSize * radius / 2);\n                        const valueStyle = {\n                            fontSize: textPixels\n                        };\n                        const percentStyle = {\n                            fontSize: textPixels * 0.6\n                        };\n \n                        return (\n                            <tspan>\n                                <tspan className=\"value\" style={valueStyle}>{value}</tspan>\n                                <tspan style={percentStyle}>Litres{} </tspan>\n                            </tspan>\n                        );\n                    }}\n                    riseAnimation\n                    waveAnimation\n                    waveFrequency={2}\n                    waveAmplitude={1}\n                    gradient\n                    gradientStops={gradientStops}\n                    circleStyle={{\n                        fill: fillColor\n                    }}\n                    waveStyle={{\n                        fill: fillColor\n                    }}\n                    textStyle={{\n                        fill: color('#444').toString(),\n                        fontFamily: 'Arial'\n                    }}\n                    waveTextStyle={{\n                        fill: color('#fff').toString(),\n                        fontFamily: 'Arial'\n                    }}\n                    // onClick={() => {\n                    //     this.setState({ value: Math.random() * 100 });\n                    // }}\n                />\n            </div>\n            </div>\n        )\n    }\n}\n\n// ReactDOM.render(<App />, document.querySelector('#app'));"]},"metadata":{},"sourceType":"module"}