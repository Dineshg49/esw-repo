{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Downloads/DASS/2019101092/2019101092_assign1/frontend/src/components/Users/Dashboard/JobDash.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport JobTable from '../Lists/JobTable';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox'; // import _\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nconst useStyles = makeStyles({\n  root: {\n    width: 300\n  }\n});\nconst type_to_number = {\n  \"Full-Time\": 'a',\n  \"Part-Time\": 'b',\n  \"Work From Home\": 'c'\n};\n\nfunction valuetext(value) {\n  return `${value}`;\n}\n\nclass JobDash extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortJobs = jobs => {\n      if (this.state.sortValue === \"Salary\" && this.state.sortOrder === \"Ascending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.salary > b.salary) {\n            return 1;\n          } else if (a.salary < b.salary) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else if (this.state.sortValue === \"Duration\" && this.state.sortOrder === \"Ascending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.duration > b.duration) {\n            return 1;\n          } else if (a.duration < b.duration) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else if (this.state.sortValue === \"Rating\" && this.state.sortOrder === \"Ascending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.no_of_raters === 0) return -1;\n          if (b.no_of_raters === 0) return 1;\n\n          if (a.rating / a.no_of_raters > b.rating / b.no_of_raters) {\n            return 1;\n          } else if (a.rating / a.no_of_raters < b.rating / b.no_of_raters) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else if (this.state.sortValue === \"Salary\" && this.state.sortOrder === \"Descending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.salary < b.salary) {\n            return 1;\n          } else if (a.salary > b.salary) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else if (this.state.sortValue === \"Duration\" && this.state.sortOrder === \"Descending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.duration < b.duration) {\n            return 1;\n          } else if (a.duration > b.duration) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else if (this.state.sortValue === \"Rating\" && this.state.sortOrder === \"Descending\") {\n        return [...jobs].sort((a, b) => {\n          if (a.no_of_raters === 0) return 1;\n          if (b.no_of_raters === 0) return -1;\n\n          if (a.rating / a.no_of_raters < b.rating / b.no_of_raters) {\n            return 1;\n          } else if (a.rating / a.no_of_raters > b.rating / b.no_of_raters) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n      } else {\n        return jobs;\n      }\n    };\n\n    this.handleSortJobs = event => {\n      //  console.log(\"sort button\", this.state.sortValue)\n      this.setState({\n        sortValue: event.target.value\n      });\n    };\n\n    this.handleSortOrder = event => {\n      //  console.log(\"sort button\", this.state.sortValue)\n      this.setState({\n        sortOrder: event.target.value\n      });\n    };\n\n    this.handleFilterDuration = event => {\n      //  console.log(\"sort button\", this.state.sortValue)\n      this.setState({\n        durationLimit: event.target.value\n      });\n    };\n\n    this.jobFilterOnChange = event => {\n      console.log(\"hi from onChange\", event.target.value);\n      this.setState({\n        inputValue: event.target.value\n      });\n    };\n\n    this.state = {\n      sortValue: 'Salary',\n      inputValue: '',\n      sortOrder: 'Ascending',\n      jobs: [],\n      job: {},\n      durationLimit: '7',\n      salary_limits: [0, 1000000],\n      big_limits: [0, 1000000],\n      isLoading: true,\n      check_box: {\n        \"a\": true,\n        \"b\": true,\n        \"c\": true\n      }\n    }; // this.sortClicked = this.sortClicked.bind(this);\n    // this.renderIcon = this.renderIcon.bind(this);\n    // this.sortChange = this.sortChange.bind(this);\n\n    this.email = '';\n    this.user = '';\n    this.max_salary = -1;\n    this.min_salary = Number.MAX_SAFE_INTEGER - 5;\n  }\n\n  componentDidMount() {\n    // console.log(this.state.check_box)\n    // console.log(this.state.check_box[\"a\"])\n    axios.get('http://localhost:4000/job').then(response => {\n      this.setState({\n        jobs: response.data\n      }); //  console.log(response);\n      // console.log(this.state.jobs);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:4000/user/session\").then(res => {\n      // console.log(res);\n      // console.log(res.data[0].email);\n      this.email = res.data[0].email; // console.log(this.email);\n\n      const JobElements = this.state.jobs.map(item => {\n        if (!item.rejected.includes(this.email) && !item.accepted.includes(this.email)) {\n          if (this.max_salary < item.salary) this.max_salary = item.salary;\n          if (this.min_salary > item.salary) this.min_salary = item.salary;\n          return item;\n        } else {\n          return null;\n        }\n      });\n      this.setState({\n        salary_limits: [this.min_salary, this.max_salary]\n      });\n\n      var _ = require('underscore');\n\n      var thinboi = _.compact(JobElements);\n\n      this.setState({\n        jobs: thinboi\n      });\n      const Sending1 = {\n        email: this.email\n      };\n      axios.post(\"http://localhost:4000/user/findone\", Sending1).then(res => {\n        // console.log(res)\n        this.user = res.data; // console.log(this.user)\n\n        this.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      }); // console.log(this.state.jobs);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } // componentDidUpdate() {\n  //     axios.get('http://localhost:4000/user')\n  //          .then(response => {\n  //              this.setState({users: response.data});\n  //          })\n  //          .catch(function(error) {\n  //              console.log(error);\n  //          })        \n  // }\n\n\n  sortClicked() {\n    console.log(this.state);\n  }\n\n  renderIcon() {\n    if (this.state.sortName) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      });\n    }\n  }\n\n  render() {\n    // var ReactDualRangeSlider = require('react-dual-range-slider');\n    // console.log(this.state.big_limits + \" \" + this.state.salary_limits)\n    const handleChangeSlider = (event, newValue) => {\n      this.setState({\n        salary_limits: newValue\n      });\n    };\n\n    const handleChangeBoxA = event => {\n      let old = this.state.check_box;\n      old[\"a\"] = event.target.checked;\n      this.setState({\n        check_box: old\n      });\n    };\n\n    const handleChangeBoxB = event => {\n      let old = this.state.check_box;\n      old[\"b\"] = event.target.checked;\n      this.setState({\n        check_box: old\n      });\n    };\n\n    const handleChangeBoxC = event => {\n      let old = this.state.check_box;\n      old[\"c\"] = event.target.checked;\n      this.setState({\n        check_box: old\n      });\n    };\n\n    var current_time = {\n      date: new Date().getDate(),\n      //To get the Current Date\n      month: new Date().getMonth() + 1,\n      //To get the Current Month\n      year: new Date().getFullYear(),\n      //To get the Current Year\n      hours: new Date().getHours(),\n      //To get the Current Hours\n      min: new Date().getMinutes()\n    };\n    const filteredJobs = this.state.jobs.filter(job => {\n      var time_array = job.deadline.split(\"-\");\n      var deadline_met = false;\n      if (current_time.year < time_array[0]) deadline_met = true;else if (current_time.year > time_array[0]) deadline_met = false;else if (current_time.month > time_array[1]) deadline_met = false;else if (current_time.month < time_array[1]) deadline_met = true;else if (current_time.date > time_array[2]) deadline_met = false;else if (current_time.date < time_array[2]) deadline_met = true;else if (current_time.hour > time_array[3]) deadline_met = false;else if (current_time.hour < time_array[3]) deadline_met = true;else if (current_time.minute > time_array[4]) deadline_met = false;else if (current_time.minute < time_array[4]) deadline_met = true;\n      return job.title.toLowerCase().includes(this.state.inputValue.toLowerCase()) && job.duration < this.state.durationLimit && job.salary >= this.state.salary_limits[0] && job.salary <= this.state.salary_limits[1] && this.state.check_box[type_to_number[job.job_type]] && deadline_met;\n    });\n\n    if (this.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, \"Sort Options\"), React.createElement(\"select\", {\n        name: \"sortValue\",\n        onChange: this.handleSortJobs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Salary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \"Salary\"), React.createElement(\"option\", {\n        value: \"Duration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"Duration\"), React.createElement(\"option\", {\n        value: \"Rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \"Rating\")), React.createElement(\"select\", {\n        name: \"sortOrder\",\n        onChange: this.handleSortOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Ascending\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, \"Ascending\"), React.createElement(\"option\", {\n        value: \"Descending\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Descending\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), \"\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"Filter Options\"), \" \\xA0\", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, \"Duration\"), \"\\xA0\", React.createElement(\"select\", {\n        name: \"durationLimit\",\n        onChange: this.handleFilterDuration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, \" \"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, \"5\"), React.createElement(\"option\", {\n        value: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, \"6\"), React.createElement(\"option\", {\n        value: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, \"7\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        id: \"range-slider\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, \"Salary Range\"), React.createElement(Slider, {\n        min: this.min_salary,\n        step: 1,\n        max: this.max_salary,\n        value: this.state.salary_limits,\n        onChange: handleChangeSlider,\n        valueLabelDisplay: \"auto\",\n        \"aria-labelledby\": \"range-slider\",\n        getAriaValueText: valuetext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Range: \", this.state.salary_limits[0], \" - \", this.state.salary_limits[1])), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          checked: this.state.check_box[\"a\"],\n          onChange: handleChangeBoxA,\n          name: \"a\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }),\n        label: \"Full-Time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          checked: this.state.check_box[\"b\"],\n          onChange: handleChangeBoxB,\n          name: \"b\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          },\n          __self: this\n        }),\n        label: \"Part-Time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          checked: this.state.check_box[\"c\"],\n          onChange: handleChangeBoxC,\n          name: \"c\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401\n          },\n          __self: this\n        }),\n        label: \"Work From Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      })), React.createElement(JobTable, {\n        jobs: this.sortJobs(filteredJobs),\n        email: this.email,\n        user: this.user,\n        jobFilterOnChange: this.jobFilterOnChange,\n        inputValue: this.state.inputValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default JobDash;","map":{"version":3,"sources":["/home/kevin/Downloads/DASS/2019101092/2019101092_assign1/frontend/src/components/Users/Dashboard/JobDash.js"],"names":["React","Component","axios","Paper","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","Slider","JobTable","makeStyles","Typography","FormGroup","FormControlLabel","Checkbox","ArrowUpwardIcon","ArrowDownwardIcon","useStyles","root","width","type_to_number","valuetext","value","JobDash","constructor","props","sortJobs","jobs","state","sortValue","sortOrder","sort","a","b","salary","duration","no_of_raters","rating","handleSortJobs","event","setState","target","handleSortOrder","handleFilterDuration","durationLimit","jobFilterOnChange","console","log","inputValue","job","salary_limits","big_limits","isLoading","check_box","email","user","max_salary","min_salary","Number","MAX_SAFE_INTEGER","componentDidMount","get","then","response","data","catch","error","res","JobElements","map","item","rejected","includes","accepted","_","require","thinboi","compact","Sending1","post","sortClicked","renderIcon","sortName","render","handleChangeSlider","newValue","handleChangeBoxA","old","checked","handleChangeBoxB","handleChangeBoxC","current_time","date","Date","getDate","month","getMonth","year","getFullYear","hours","getHours","min","getMinutes","filteredJobs","filter","time_array","deadline","split","deadline_met","hour","minute","title","toLowerCase","job_type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport JobTable from '../Lists/JobTable'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n// import _\n\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nconst useStyles = makeStyles({\n    root: {\n      width: 300,\n    },\n  });\n\nconst type_to_number={\"Full-Time\":'a',\"Part-Time\":'b',\"Work From Home\":'c'};\n\n  function valuetext(value) {\n    return `${value}`;\n  }\n\nclass JobDash extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n           sortValue: 'Salary',\n           inputValue: '',\n           sortOrder: 'Ascending',\n           jobs: [],\n           job:{},\n           durationLimit:'7',\n           salary_limits:[0,1000000],\n           big_limits:[0,1000000],\n           isLoading: true,\n           check_box:{\"a\":true,\"b\":true,\"c\":true},\n           \n        };\n        // this.sortClicked = this.sortClicked.bind(this);\n        // this.renderIcon = this.renderIcon.bind(this);\n        // this.sortChange = this.sortChange.bind(this);\n        this.email='';\n        this.user='';\n        this.max_salary = -1;\n        this.min_salary = Number.MAX_SAFE_INTEGER -5;\n    }\n\n    componentDidMount() {\n        // console.log(this.state.check_box)\n        // console.log(this.state.check_box[\"a\"])\n        axios.get('http://localhost:4000/job')\n             .then(response => {\n                 this.setState({jobs: response.data});\n                //  console.log(response);\n                // console.log(this.state.jobs);\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n        axios.get(\"http://localhost:4000/user/session\")\n             .then(res => {\n                    // console.log(res);\n                    // console.log(res.data[0].email);\n                    this.email = res.data[0].email;\n\n                    // console.log(this.email);\n                    const JobElements = this.state.jobs.map(item =>{ \n                                                    if(!item.rejected.includes(this.email) && !item.accepted.includes(this.email)){\n                                                        if(this.max_salary < item.salary)\n                                                            this.max_salary = item.salary;\n                                                        if(this.min_salary > item.salary)\n                                                            this.min_salary = item.salary;\n                                                        return item;\n                                                    }\n                                                    else{\n                                                        return null;\n                                                    }\n                                                });\n                    this.setState({\n                        salary_limits: [this.min_salary, this.max_salary]\n                    });\n                    var _ = require('underscore');\n                    var thinboi = _.compact(JobElements);\n                    this.setState({jobs: thinboi});\n                    const Sending1={\n                        email:this.email\n                    }\n                    axios.post(\"http://localhost:4000/user/findone\",Sending1)\n                    .then(res=>{\n                        // console.log(res)\n                        this.user=res.data;\n                        // console.log(this.user)\n                        this.setState({isLoading: false});\n                    })\n                    .catch(function(error){\n                        console.log(error);\n                    })\n\n                    // console.log(this.state.jobs);\n                    \n                    \n\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n             \n    }\n\n    // componentDidUpdate() {\n    //     axios.get('http://localhost:4000/user')\n    //          .then(response => {\n    //              this.setState({users: response.data});\n    //          })\n    //          .catch(function(error) {\n    //              console.log(error);\n    //          })        \n    // }\n\n    sortClicked(){\n        console.log(this.state);\n    }\n\n    sortJobs = (jobs) => {\n        if(this.state.sortValue === \"Salary\" && this.state.sortOrder === \"Ascending\") {\n            return [...jobs].sort((a,b) => {\n            if(a.salary > b.salary) {\n                return 1\n            }else if (a.salary < b.salary) {\n                return -1\n            }else {\n                return 0\n            }\n            })\n        }\n        else if(this.state.sortValue === \"Duration\" && this.state.sortOrder === \"Ascending\") {\n                return [...jobs].sort((a,b) => {\n                if(a.duration > b.duration) {\n                    return 1\n                }else if (a.duration < b.duration) {\n                    return -1\n                }else {\n                    return 0\n                }\n            })\n        }\n        else if(this.state.sortValue === \"Rating\" && this.state.sortOrder === \"Ascending\") {\n                return [...jobs].sort((a,b) => {\n                    if(a.no_of_raters===0)\n                        return -1\n                    if(b.no_of_raters===0)\n                        return 1\n                if(a.rating/a.no_of_raters > b.rating/b.no_of_raters) {\n                    return 1\n                }else if (a.rating/a.no_of_raters < b.rating/b.no_of_raters) {\n                    return -1\n                }else {\n                    return 0\n                }\n            })\n        }\n        else if(this.state.sortValue === \"Salary\" && this.state.sortOrder === \"Descending\") {\n            return [...jobs].sort((a,b) => {\n            if(a.salary < b.salary) {\n                return 1\n            }else if (a.salary > b.salary) {\n                return -1\n            }else {\n                return 0\n            }\n            })\n        }\n        else if(this.state.sortValue === \"Duration\" && this.state.sortOrder === \"Descending\") {\n                return [...jobs].sort((a,b) => {\n                if(a.duration < b.duration) {\n                    return 1\n                }else if (a.duration > b.duration) {\n                    return -1\n                }else {\n                    return 0\n                }\n            })\n        }\n        else if(this.state.sortValue === \"Rating\" && this.state.sortOrder === \"Descending\") {\n                return [...jobs].sort((a,b) => {\n                    if(a.no_of_raters===0)\n                        return 1;\n                    if(b.no_of_raters===0)\n                        return -1\n                if(a.rating/a.no_of_raters < b.rating/b.no_of_raters) {\n                    return 1\n                }else if (a.rating/a.no_of_raters > b.rating/b.no_of_raters) {\n                    return -1\n                }else {\n                    return 0\n                }\n            })\n        }\n        else {\n            return jobs\n        }\n    }\n\n    renderIcon(){\n        if(this.state.sortName){\n            return(\n                <ArrowDownwardIcon/>\n            )\n        }\n        else{\n            return(\n                <ArrowUpwardIcon/>\n            )            \n        }\n    }\n    handleSortJobs = (event) => {\n    //  console.log(\"sort button\", this.state.sortValue)\n    this.setState({\n        sortValue: event.target.value\n    })\n    }\n\n    handleSortOrder = (event) => {\n    //  console.log(\"sort button\", this.state.sortValue)\n    this.setState({\n        sortOrder: event.target.value\n    })\n    }\n\n    handleFilterDuration = (event) => {\n        //  console.log(\"sort button\", this.state.sortValue)\n        this.setState({\n            durationLimit: event.target.value\n        })\n        }\n\n    jobFilterOnChange = (event) => {\n    console.log(\"hi from onChange\", event.target.value)\n    this.setState({\n        inputValue: event.target.value\n    })\n\n    }\n\n    render() {\n        // var ReactDualRangeSlider = require('react-dual-range-slider');\n        \n        // console.log(this.state.big_limits + \" \" + this.state.salary_limits)\n        const handleChangeSlider = (event, newValue) => {\n            this.setState({\n                salary_limits: newValue\n            })\n          };\n\n          const handleChangeBoxA = (event) => {\n\n            let old =this.state.check_box;\n            old[\"a\"]=event.target.checked\n            this.setState({\n                check_box:old\n            })         \n         };\n\n         const handleChangeBoxB = (event) => {\n\n            let old =this.state.check_box;\n            old[\"b\"]=event.target.checked\n            this.setState({\n                check_box:old\n            })         \n         }\n         const handleChangeBoxC = (event) => {\n\n            let old =this.state.check_box;\n            old[\"c\"]=event.target.checked\n            this.setState({\n                check_box:old\n            })         \n         }\n         \n         var current_time={\n              date : new Date().getDate(), //To get the Current Date\n              month : new Date().getMonth() + 1,//To get the Current Month\n              year : new Date().getFullYear(), //To get the Current Year\n              hours : new Date().getHours(), //To get the Current Hours\n              min : new Date().getMinutes(),\n         }\n        const filteredJobs = \n            this.state.jobs.filter(job => {\n                var time_array=job.deadline.split(\"-\");\n                var deadline_met=false;\n                if(current_time.year<time_array[0])\n                    deadline_met=true;\n                else if(current_time.year>time_array[0])\n                        deadline_met=false;\n                \n                else if(current_time.month>time_array[1])\n                    deadline_met=false\n                else if(current_time.month<time_array[1])\n                    deadline_met=true;\n                    \n                else if(current_time.date>time_array[2])\n                        deadline_met=false\n                else if(current_time.date<time_array[2])\n                        deadline_met=true;\n        \n                else if(current_time.hour>time_array[3])\n                        deadline_met=false\n                else if(current_time.hour<time_array[3])\n                        deadline_met=true;\n        \n                else if(current_time.minute>time_array[4])\n                        deadline_met=false\n                else if(current_time.minute<time_array[4])\n                        deadline_met=true; \n \n            return (job.title.toLowerCase().includes(this.state.inputValue.toLowerCase()) \n            && job.duration<this.state.durationLimit \n            && (job.salary>=this.state.salary_limits[0] \n            && job.salary<=this.state.salary_limits[1]) \n            && this.state.check_box[type_to_number[job.job_type]]\n            && deadline_met\n            )})\n        if(this.isLoading){\n            return(\n                <div>\n                    Loading...\n                </div>\n            )\n        }\n        else{\n            return (\n                <div>\n                    <label>Sort Options</label>\n                    <select name=\"sortValue\" onChange={this.handleSortJobs}>\n                        <option value=\"Salary\">Salary</option>\n                        <option value=\"Duration\">Duration</option>\n                        <option value=\"Rating\">Rating</option>\n                    </select> \n                    <select name=\"sortOrder\" onChange={this.handleSortOrder}>\n                        <option value=\"Ascending\">Ascending</option>\n                        <option value=\"Descending\">Descending</option>\n                    </select> \n                    <br/>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n\n                    <label>Filter Options</label> &nbsp;\n                    \n                    <label>Duration</label>&nbsp;\n                    <select name=\"durationLimit\" onChange={this.handleFilterDuration}>\n                        <option value=\"10\"> </option>\n                        <option value=\"1\">1</option>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                        <option value=\"5\">5</option>\n                        <option value=\"6\">6</option>\n                        <option value=\"7\">7</option>\n                    </select> \n                    <br/>\n                    <div>\n                        <Typography id=\"range-slider\" gutterBottom>\n                            Salary Range\n                        </Typography>\n                        <Slider\n                            min={this.min_salary}\n                            step={1}\n                            max={this.max_salary}\n                            value={this.state.salary_limits}\n                            onChange={handleChangeSlider}\n                            valueLabelDisplay=\"auto\"\n                            aria-labelledby=\"range-slider\"\n                            getAriaValueText={valuetext}\n                        />\n                         <Typography>Range: {this.state.salary_limits[0]} - {this.state.salary_limits[1]}</Typography>\n                    </div>               \n                    <FormGroup row>\n                        <FormControlLabel\n                            control={<Checkbox checked={this.state.check_box[\"a\"]} onChange={handleChangeBoxA} name=\"a\" />}\n                            label=\"Full-Time\"\n                        />  \n                        <FormControlLabel\n                            control={<Checkbox checked={this.state.check_box[\"b\"]} onChange={handleChangeBoxB} name=\"b\" />}\n                            label=\"Part-Time\"\n                        />   \n                        <FormControlLabel\n                            control={<Checkbox checked={this.state.check_box[\"c\"]} onChange={handleChangeBoxC} name=\"c\" />}\n                            label=\"Work From Home\"\n                        />                         \n                    </FormGroup>\n                    \n                    < JobTable jobs={this.sortJobs(filteredJobs)} email={this.email} user={this.user}\n                        jobFilterOnChange={this.jobFilterOnChange}\n                        inputValue={this.state.inputValue} /> \n                </div>\n            )\n        }\n    }\n}\n\nexport default JobDash;"]},"metadata":{},"sourceType":"module"}