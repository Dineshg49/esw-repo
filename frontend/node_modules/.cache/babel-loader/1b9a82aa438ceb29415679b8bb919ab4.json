{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Downloads/ESW/water-level-monitor/frontend/src/components/Recruiter/Profile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider'; // import ContactItem from './SkillItem'\n// import UserProfile from '../Common/test';\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = e => {\n      e.preventDefault(); // console.log(\"hi\");\n\n      console.log(this.state.newContact);\n      const Sending = {\n        email: this.email,\n        number: this.state.newContact\n      };\n      axios.post(\"http://localhost:4000/recruiter/contactno\", Sending).then(res => {// console.log(res);\n        //    this.recruiter=res.data;\n        //    // this.setState({notes: res.data.skills});\n        //    this.notes = res.data.skills;\n        //   // console.log(this.recruiter.name);\n      }).catch(function (error) {\n        console.log(error);\n      }); // if(/^\\s*\\S+(?:\\s+\\S+){0, 9}\\s*$/.test(this.state.newBio))\n\n      var str1 = this.state.newBio;\n      str1 = str1.replace(/(^\\s*)|(\\s*$)/gi, \"\");\n      str1 = str1.replace(/[ ]{2,}/gi, \" \");\n      str1 = str1.replace(/\\n /, \"\\n\");\n      var count = str1.split(' ').length;\n\n      if (count < 251) {\n        // console.log(this.state.newContact);\n        const Sendingbio = {\n          email: this.email,\n          bio: this.state.newBio\n        }; //console.log(this.notes)\n\n        axios.post(\"http://localhost:4000/recruiter/bio\", Sendingbio).then(res => {// console.log(res);\n          //    this.recruiter=res.data;\n          //    // this.setState({notes: res.data.skills});\n          //    this.notes = res.data.skills;\n          //   // console.log(this.recruiter.name);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        alert(\"Bio cannot exceed 250 words\");\n      }\n\n      window.location.reload(true);\n      this.state.newContact = '';\n      this.state.newBio = '';\n    };\n\n    this.state = {\n      recruiters: [],\n      sortName: true,\n      newContact: '',\n      newBio: '',\n      isLoading: true\n    };\n    this.onChangeContact = this.onChangeContact.bind(this);\n    this.onChangeBio = this.onChangeBio.bind(this);\n    this.sortClicked = this.sortClicked.bind(this);\n    this.renderIcon = this.renderIcon.bind(this);\n    this.sortChange = this.sortChange.bind(this);\n    this.email = '';\n    this.recruiter = '';\n    this.notes = ['***'];\n  }\n\n  onChangeContact(event) {\n    this.setState({\n      newContact: event.target.value\n    });\n    console.log(this.state.newContact);\n  }\n\n  onChangeBio(event) {\n    this.setState({\n      newBio: event.target.value\n    });\n    console.log(this.state.newContact);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/recruiter').then(response => {\n      this.setState({\n        recruiters: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:4000/recruiter/session\").then(res => {\n      // console.log(res);\n      // console.log(res.data[0].email);\n      this.email = res.data[0].email; //console.log(this.email);\n\n      const Sending = {\n        email: this.email\n      };\n      console.log(Sending);\n      axios.post(\"http://localhost:4000/recruiter/findone\", Sending).then(res => {\n        // console.log(res);\n        this.recruiter = res.data;\n        this.state.newBio = this.recruiter.bio;\n        this.state.newContact = this.recruiter.contact_no;\n        this.setState({\n          isLoading: false\n        }); // this.setState({notes: res.data.skills});\n        // this.notes = res.data.skills;\n        // console.log(this.recruiter.name);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidUpdate() {\n    axios.get('http://localhost:4000/recruiter').then(response => {\n      this.setState({\n        recruiters: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  sortClicked() {\n    console.log(this.state);\n  }\n\n  sortChange() {\n    var array = this.state.recruiters;\n    var flag = this.state.sortName;\n    array.sort(function (a, b) {\n      if (a.date != undefined && b.date != undefined) {\n        return (1 - flag * 2) * (new Date(a.date) - new Date(b.date));\n      } else {\n        return 1;\n      }\n    }); // Sort youngest first\n\n    this.setState({\n      recruiters: array,\n      sortName: !this.state.sortName\n    });\n  }\n\n  renderIcon() {\n    if (this.state.sortName) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      });\n    }\n  }\n\n  render() {\n    // console.log(UserProfile.getName());\n    // console.log(this.state);\n    // console.log(\"hi\");\n    // const SkillItems = this.notes.map(item => <SkillItem key={item} item={item}/>) \n    if (this.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      return (// <p>Hai</p>           \n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          lg: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Paper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"Welcome To Your Profile \", this.recruiter.name), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }), React.createElement(Paper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Your Email Id: \", this.email), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(Paper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.onSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Contact Number: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.contact_no,\n          placeholder: this.recruiter.contact_no,\n          onChange: this.onChangeContact,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, \"Bio(max 250 words): \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }), React.createElement(\"textarea\", {\n          value: this.state.newBio,\n          placeholder: this.recruiter.bio,\n          onChange: this.onChangeBio,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Save Changes\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }))))))\n      );\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/kevin/Downloads/ESW/water-level-monitor/frontend/src/components/Recruiter/Profile.js"],"names":["React","Component","axios","Paper","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","Typography","Slider","ArrowUpwardIcon","ArrowDownwardIcon","Profile","constructor","props","onSubmit","e","preventDefault","console","log","state","newContact","Sending","email","number","post","then","res","catch","error","str1","newBio","replace","count","split","length","Sendingbio","bio","alert","window","location","reload","recruiters","sortName","isLoading","onChangeContact","bind","onChangeBio","sortClicked","renderIcon","sortChange","recruiter","notes","event","setState","target","value","componentDidMount","get","response","data","contact_no","componentDidUpdate","array","flag","sort","a","b","date","undefined","Date","render","name"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\n// import ContactItem from './SkillItem'\n// import UserProfile from '../Common/test';\n\n\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nclass Profile extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            recruiters: [],\n            sortName:true, \n            newContact:'',\n            newBio:'',\n            isLoading: true\n        };\n        this.onChangeContact = this.onChangeContact.bind(this);\n        this.onChangeBio = this.onChangeBio.bind(this);\n        this.sortClicked = this.sortClicked.bind(this);\n        this.renderIcon = this.renderIcon.bind(this);\n        this.sortChange = this.sortChange.bind(this);\n        this.email = '';\n        this.recruiter = '';\n        this.notes = ['***'];\n\n    }\n\n    onChangeContact(event){\n        this.setState({newContact: event.target.value});\n        console.log(this.state.newContact);\n    }\n\n    onChangeBio(event){\n        this.setState({newBio: event.target.value});\n        console.log(this.state.newContact);\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:4000/recruiter')\n             .then(response => {\n                 this.setState({recruiters: response.data});\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n        axios.get(\"http://localhost:4000/recruiter/session\")\n             .then(res => {\n                    // console.log(res);\n                    // console.log(res.data[0].email);\n                    this.email = res.data[0].email;\n                    //console.log(this.email);\n                    const Sending={\n                        email: this.email\n                    }\n                    console.log(Sending);\n                    axios.post(\"http://localhost:4000/recruiter/findone\",Sending)\n                         .then(res => {\n                                // console.log(res);\n                                this.recruiter=res.data;\n                                this.state.newBio = this.recruiter.bio;\n                                this.state.newContact = this.recruiter.contact_no;\n                                this.setState({isLoading: false});\n                                // this.setState({notes: res.data.skills});\n                                // this.notes = res.data.skills;\n                               // console.log(this.recruiter.name);\n                         })\n                         .catch(function(error) {\n                             console.log(error);\n                         })\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n        \n        \n    }\n\n    componentDidUpdate() {\n        axios.get('http://localhost:4000/recruiter')\n             .then(response => {\n                 this.setState({recruiters: response.data});\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })  \n        \n        \n    }\n\n    sortClicked(){\n        console.log(this.state);\n    }\n\n    sortChange(){\n        var array = this.state.recruiters;\n        var flag = this.state.sortName;\n        array.sort(function(a, b) {\n            if(a.date != undefined && b.date != undefined){\n                return (1 - flag*2) * (new Date(a.date) - new Date(b.date));\n            }\n            else{\n                return 1;\n            }\n          }); // Sort youngest first\n        this.setState({\n            recruiters:array,\n            sortName:!this.state.sortName,\n        })\n    }\n\n    renderIcon(){\n        if(this.state.sortName){\n            return(\n                <ArrowDownwardIcon/>\n            )\n        }\n        else{\n            return(\n                <ArrowUpwardIcon/>\n            )            \n        }\n    }\n    onSubmit = (e) => {\n        e.preventDefault();\n        // console.log(\"hi\");\n        console.log(this.state.newContact);\n        const Sending ={\n            email:this.email,\n            number: this.state.newContact\n        }\n\n        \n        axios.post(\"http://localhost:4000/recruiter/contactno\",Sending)\n            .then(res => {\n                // console.log(res);\n                //    this.recruiter=res.data;\n                //    // this.setState({notes: res.data.skills});\n                //    this.notes = res.data.skills;\n                //   // console.log(this.recruiter.name);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })        \n        \n        \n        \n        // if(/^\\s*\\S+(?:\\s+\\S+){0, 9}\\s*$/.test(this.state.newBio))\n        var str1=this.state.newBio;\n        str1 = str1.replace(/(^\\s*)|(\\s*$)/gi,\"\");\n        str1 = str1.replace(/[ ]{2,}/gi,\" \");\n        str1 = str1.replace(/\\n /,\"\\n\");\n        var count=str1.split(' ').length;\n        if(count<251)\n        {\n            // console.log(this.state.newContact);\n            const Sendingbio ={\n                email:this.email,\n                bio: this.state.newBio\n            }\n\n        //console.log(this.notes)\n            axios.post(\"http://localhost:4000/recruiter/bio\",Sendingbio)\n            .then(res => {\n                // console.log(res);\n                //    this.recruiter=res.data;\n                //    // this.setState({notes: res.data.skills});\n                //    this.notes = res.data.skills;\n                //   // console.log(this.recruiter.name);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })        \n        }\n        else\n        {\n            alert(\"Bio cannot exceed 250 words\");\n        }\n\n        window.location.reload(true);\n        this.state.newContact = '';\n        this.state.newBio = '';\n    }\n\n    render() {\n        // console.log(UserProfile.getName());\n        // console.log(this.state);\n        // console.log(\"hi\");\n        // const SkillItems = this.notes.map(item => <SkillItem key={item} item={item}/>) \n        if(this.isLoading){\n            return(\n                <div>\n                    Loading...\n                </div>\n            )\n        }\n        else{\n            return (\n\n                // <p>Hai</p>           \n                <div>\n                    <Grid item xs={12} md={12} lg={12}>\n                        <Paper>\n                            Welcome To Your Profile {this.recruiter.name} \n                        </Paper>   \n                        <br/>\n                        <br/>\n                        <Paper>\n                            Your Email Id: {this.email}  \n                        </Paper>  \n                        <br/>\n                        <Paper>\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <label>Contact Number: </label>\n                                <input type=\"text\" \n                                    className=\"form-control\"\n                                    value={this.state.contact_no}\n                                    placeholder={this.recruiter.contact_no}\n                                    onChange={this.onChangeContact}\n                                    />\n                            </div>\n                            <div>\n                                <label>Bio(max 250 words): </label>\n                                <br/>\n                                <textarea\n                                value={this.state.newBio}\n                                placeholder={this.recruiter.bio}\n                                onChange={this.onChangeBio}\n                                /> \n                            </div>\n                            <div className=\"form-group\">\n                                <input type=\"submit\" value=\"Save Changes\" className=\"btn btn-primary\"/>\n                            </div>\n                        </form>\n                        \n                        </Paper>\n                                    \n                    </Grid>                \n                </div>\n            )\n        }\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}