{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Downloads/IIIT-H CSE/2-2/DASS/Assignment -1/2019101092_assign1/frontend/src/components/Recruiter/Items/Candidate.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from \"react-dom\";\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { validateFields } from '../../Common/Validation'; // import PopUpInput from './PopUpInput'\n\nimport SimplePortal from '../../Users/PopUpInput';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\n\nfunction printSkills(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, props);\n}\n\nclass Candidate extends Component {\n  //console.log(props);\n  constructor(props) {\n    super(props);\n    this.state = {\n      showComponent: false\n    }; // console.log(\"in JobElement\");\n\n    this.skills_array = this.props.user.skills.map(skill => {\n      return printSkills(skill);\n    }); // console.log(props)\n\n    this.status = '';\n    this.status1 = '';\n    this.onClickAccept = this.onClickAccept.bind(this);\n    this.onClickShortlist = this.onClickShortlist.bind(this);\n    this.onClickReject = this.onClickReject.bind(this);\n  } // function \n\n\n  onClickAccept() {\n    // ADD AXIOS FOR ACCEPT\n    const Sending1 = {\n      id: this.props.job._id,\n      email: this.props.user.email\n    };\n    axios.post(\"http://localhost:4000/job/acceptapp\", Sending1).then(res => {\n      // console.log(res)\n      this.user = res.data;\n      console.log(this.props);\n      console.log(this.props.job.max_pos);\n\n      if (this.props.job.max_pos == 1) {\n        console.log(this.props.job.max_pos);\n        this.props.job.applicants.map(userboi => {\n          console.log(userboi);\n          const Sending1 = {\n            id: this.props.job._id,\n            email: userboi\n          };\n          axios.post(\"http://localhost:4000/job/rejectapp\", Sending1).then(res1 => {\n            console.log(\"yey rej\"); // this.user=res.data;\n\n            console.log(res1); // this.setState({isLoading: false});\n          }).catch(function (error) {\n            console.log(error);\n          });\n        });\n        this.props.job.shortlisted.map(userboi => {\n          if (userboi != this.props.user.email) {\n            const Sending1 = {\n              id: this.props.job._id,\n              email: userboi\n            };\n            axios.post(\"http://localhost:4000/job/rejectapp\", Sending1).then(res1 => {\n              console.log(res1); // this.user=res.data;\n              // console.log(this.user)\n              // this.setState({isLoading: false});\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        });\n      }\n\n      axios.get(\"http://localhost:4000/job\").then(res1 => {\n        res1.data.map(ajob => {\n          console.log(this.props);\n          console.log(ajob);\n          console.log(ajob._id + \"!=\" + this.props.job._id);\n          console.log(ajob.applicants);\n          console.log(this.props.user.email);\n\n          if (ajob._id != this.props.job._id && (ajob.applicants.includes(this.props.user.email) || ajob.shortlisted.includes(this.props.user.email))) {\n            const Sending2 = {\n              id: ajob._id,\n              email: this.props.user.email\n            };\n            axios.post(\"http://localhost:4000/job/pullapp\", Sending2).then(res2 => {\n              console.log(res2); // this.user=res.data;\n              // console.log(this.user)\n              // this.setState({isLoading: false});\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.props.toggleDoUpdate(); // this.setState({isLoading: false});\n    }).catch(function (error) {\n      console.log(error);\n    });\n    alert(\"Application Accepted\"); // window.location.reload()\n  }\n\n  onClickReject() {\n    // this.setState({\n    //     showComponent: true\n    // });\n    // ADD AXIOS FOR REJECTION\n    const Sending1 = {\n      id: this.props.job._id,\n      email: this.props.user.email\n    };\n    axios.post(\"http://localhost:4000/job/rejectapp\", Sending1).then(res => {\n      // console.log(res)\n      this.user = res.data;\n      this.props.toggleDoUpdate(); // console.log(this.user)\n      // this.setState({isLoading: false});\n    }).catch(function (error) {\n      console.log(error);\n    });\n    alert(\"Application Rejected\"); // window.location.reload()\n  }\n\n  onClickShortlist() {\n    // this.setState({\n    //     showComponent: true\n    // });\n    // ADD AXIOS FOR SHORTLIST\n    console.log(this.props);\n    const Sending1 = {\n      id: this.props.job._id,\n      email: this.props.user.email\n    };\n    axios.post(\"http://localhost:4000/job/shortlistapp\", Sending1).then(res => {\n      // console.log(res)\n      this.user = res.data;\n      this.props.toggleDoUpdate();\n      alert(\"Application Shortlisted\"); // console.log(this.user)\n      // this.setState({isLoading: false});\n    }).catch(function (error) {\n      console.log(error);\n    }); // window.location.reload()\n  }\n\n  ApplyOptionRejection() {\n    // console.log(props)\n    function sayHello() {\n      alert(\"All Positions Have Been Filled, Increase Limit to Accept\");\n    }\n\n    return React.createElement(Button, {\n      color: \"primary\",\n      onClick: sayHello,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Accept\");\n  }\n\n  ApplyOptionAccept() {\n    return React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.onClickAccept,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Accept\");\n  }\n\n  Shortlist() {\n    return React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.onClickShortlist,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Shortlist\");\n  }\n\n  Rejection() {\n    return React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.onClickReject,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Reject\");\n  }\n\n  render() {\n    if (this.props.job.accepted.includes(this.props.user.email)) {\n      this.status = React.createElement(\"label\", {\n        style: {\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Accepted\");\n    } else if (this.props.job.applicants.includes(this.props.user.email)) {\n      this.status = this.Shortlist();\n      this.status1 = this.Rejection();\n    } else if (this.props.job.shortlisted.includes(this.props.user.email)) {\n      if (this.props.job.max_pos != 0) this.status = this.ApplyOptionAccept();else this.status = this.ApplyOptionRejection();\n      this.status1 = this.Rejection();\n    }\n\n    return React.createElement(TableRow, {\n      key: this.props.user._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, this.props.user.name), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, this.skills_array), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, this.props.doa[this.props.user.email]), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, this.props.sop[this.props.user.email]), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, this.props.user.rating), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, this.status, \" \", this.status1));\n  }\n\n}\n\nexport default Candidate;","map":{"version":3,"sources":["/home/kevin/Downloads/IIIT-H CSE/2-2/DASS/Assignment -1/2019101092_assign1/frontend/src/components/Recruiter/Items/Candidate.js"],"names":["React","Component","ReactDOM","Card","axios","validateFields","SimplePortal","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Paper","printSkills","props","Candidate","constructor","state","showComponent","skills_array","user","skills","map","skill","status","status1","onClickAccept","bind","onClickShortlist","onClickReject","Sending1","id","job","_id","email","post","then","res","data","console","log","max_pos","applicants","userboi","res1","catch","error","shortlisted","get","ajob","includes","Sending2","res2","toggleDoUpdate","alert","ApplyOptionRejection","sayHello","ApplyOptionAccept","Shortlist","Rejection","render","accepted","color","name","doa","sop","rating"],"mappings":"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","sourcesContent":["\nimport React, {Component} from 'react';\nimport ReactDOM from \"react-dom\"\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { validateFields } from '../../Common/Validation';\n// import PopUpInput from './PopUpInput'\nimport SimplePortal from '../../Users/PopUpInput'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\n\nfunction printSkills(props){\n        return (\n            <div>\n                {props}\n            </div>\n        )\n    }\n\nclass Candidate extends Component {\n    //console.log(props);\n\n    constructor(props) {\n        super(props);\n        this.state = {\n           showComponent: false,\n        };\n        // console.log(\"in JobElement\");\n        this.skills_array= this.props.user.skills.map(skill => {\n            return printSkills(skill)\n            })\n\n            // console.log(props)\n        \n        this.status= '';\n        this.status1='';\n        this.onClickAccept = this.onClickAccept.bind(this);\n        this.onClickShortlist = this.onClickShortlist.bind(this);\n        this.onClickReject = this.onClickReject.bind(this);\n    }\n\n    \n\n    // function \n    onClickAccept(){\n        // ADD AXIOS FOR ACCEPT\n        const Sending1 = {\n            id: this.props.job._id,\n            email: this.props.user.email\n        }\n        axios.post(\"http://localhost:4000/job/acceptapp\",Sending1)\n            .then(res=>{\n                // console.log(res)\n                this.user=res.data;\n                console.log(this.props);\n                console.log(this.props.job.max_pos);\n                if(this.props.job.max_pos == 1){\n                    console.log(this.props.job.max_pos);\n                    this.props.job.applicants.map(userboi => {\n                        console.log(userboi);\n                        const Sending1 = {\n                            id: this.props.job._id,\n                            email: userboi\n                        }\n                        axios.post(\"http://localhost:4000/job/rejectapp\",Sending1)\n                            .then(res1=>{\n                                console.log(\"yey rej\")\n                                // this.user=res.data;\n                                console.log(res1)\n                                // this.setState({isLoading: false});\n                            })\n                            .catch(function(error){\n                                console.log(error);\n                            })\n                    });\n\n                    this.props.job.shortlisted.map(userboi => {\n                        if(userboi != this.props.user.email){\n                            const Sending1 = {\n                                id: this.props.job._id,\n                                email: userboi\n                            }\n                            axios.post(\"http://localhost:4000/job/rejectapp\",Sending1)\n                                .then(res1=>{\n                                    console.log(res1)\n                                    // this.user=res.data;\n                                    // console.log(this.user)\n                                    // this.setState({isLoading: false});\n                                })\n                                .catch(function(error){\n                                    console.log(error);\n                                })\n                        }\n                    });\n                }\n\n                axios.get(\"http://localhost:4000/job\")\n                    .then(res1 => {\n                        res1.data.map(ajob => {\n                            console.log(this.props);\n                            console.log(ajob);\n                            console.log(ajob._id + \"!=\" + this.props.job._id);\n                            console.log(ajob.applicants);\n                            console.log(this.props.user.email);\n                            if((ajob._id != this.props.job._id) && (ajob.applicants.includes(this.props.user.email) || ajob.shortlisted.includes(this.props.user.email))){\n                                const Sending2 ={\n                                    id: ajob._id,\n                                    email: this.props.user.email\n                                }\n                                axios.post(\"http://localhost:4000/job/pullapp\",Sending2)\n                                    .then(res2=>{\n                                        console.log(res2);\n                                        // this.user=res.data;\n                                        // console.log(this.user)\n                                        // this.setState({isLoading: false});\n                                    })\n                                    .catch(function(error){\n                                        console.log(error);\n                                    })\n                            }\n                        })\n                    })\n                    .catch(function(error){\n                        console.log(error);\n                    })\n                    \n                    this.props.toggleDoUpdate()\n                // this.setState({isLoading: false});\n                \n            })\n            .catch(function(error){\n                console.log(error);\n            })\n\n            \n            alert(\"Application Accepted\")\n            // window.location.reload()\n    }\n    onClickReject(){\n        // this.setState({\n        //     showComponent: true\n        // });\n        // ADD AXIOS FOR REJECTION\n        const Sending1 = {\n            id: this.props.job._id,\n            email: this.props.user.email\n        }\n        axios.post(\"http://localhost:4000/job/rejectapp\",Sending1)\n            .then(res=>{\n                // console.log(res)\n                this.user=res.data;\n                this.props.toggleDoUpdate()\n                // console.log(this.user)\n                // this.setState({isLoading: false});\n            })\n            .catch(function(error){\n                console.log(error);\n            })\n            alert(\"Application Rejected\")\n            \n            // window.location.reload()\n    }\n    onClickShortlist(){\n        // this.setState({\n        //     showComponent: true\n        // });\n        // ADD AXIOS FOR SHORTLIST\n        console.log(this.props)\n        const Sending1 = {\n            id: this.props.job._id,\n            email: this.props.user.email\n        }\n        axios.post(\"http://localhost:4000/job/shortlistapp\",Sending1)\n            .then(res=>{\n                // console.log(res)\n                this.user=res.data;\n                this.props.toggleDoUpdate()\n                alert(\"Application Shortlisted\")\n                // console.log(this.user)\n                // this.setState({isLoading: false});\n            })\n            .catch(function(error){\n                console.log(error);\n            })\n            \n            \n            // window.location.reload()\n    }\n\n    ApplyOptionRejection(){\n        // console.log(props)\n        function sayHello() {\n            alert(\"All Positions Have Been Filled, Increase Limit to Accept\");\n        }\n        \n        return (\n            <Button color=\"primary\" onClick={sayHello}>Accept</Button>\n        );\n    }\n\n        \n\n        ApplyOptionAccept(){            \n            return (\n                <Button color=\"primary\" onClick={this.onClickAccept}>Accept</Button>       \n            );\n        }\n\n        Shortlist(){            \n            return (\n                <Button color=\"primary\" onClick={this.onClickShortlist}>Shortlist</Button>       \n            );\n        }\n\n        Rejection(){            \n            return (\n                <Button color=\"secondary\" onClick={this.onClickReject}>Reject</Button>       \n            );\n        }\n\n        render(){\n\n            if(this.props.job.accepted.includes(this.props.user.email))\n            {   \n                this.status=<label style={{ color: 'green' }}>Accepted</label>\n            }\n            else if(this.props.job.applicants.includes(this.props.user.email))\n            {\n                this.status = this.Shortlist()\n                this.status1 = this.Rejection()\n            }\n            else if(this.props.job.shortlisted.includes(this.props.user.email))\n            {          \n                if(this.props.job.max_pos!=0)\n                    this.status = this.ApplyOptionAccept()  \n                else\n                    this.status = this.ApplyOptionRejection()\n\n                this.status1 = this.Rejection()\n            }\n\n            return(\n                <TableRow key={this.props.user._id}>\n                    <TableCell>{this.props.user.name}</TableCell>\n                    <TableCell align=\"right\">{this.skills_array}</TableCell>\n                    <TableCell align=\"right\">{this.props.doa[this.props.user.email]}</TableCell>\n                    <TableCell align=\"right\">{this.props.sop[this.props.user.email]}</TableCell>\n                    <TableCell align=\"right\">{this.props.user.rating}</TableCell>\n                    <TableCell align=\"right\">{this.status} {this.status1}</TableCell>\n                </TableRow>\n            )\n        }\n\n    \n    }\n\nexport default Candidate;"]},"metadata":{},"sourceType":"module"}